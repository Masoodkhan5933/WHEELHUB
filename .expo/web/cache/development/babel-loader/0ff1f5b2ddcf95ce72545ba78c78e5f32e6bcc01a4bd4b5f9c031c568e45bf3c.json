{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nvar Model = function () {\n  function Model(data, save) {\n    var _this = this;\n    _classCallCheck(this, Model);\n    try {\n      this.data = JSON.parse(data) || {};\n    } catch (e) {\n      throw new Error('Invalid data');\n    }\n    this.save = function () {\n      return save(_this.data);\n    };\n    this.nextId = Math.max.apply(Math, Object.keys(this.data).concat([-1])) + 1;\n  }\n  _createClass(Model, [{\n    key: \"get\",\n    value: function get(id) {\n      return this.data[id];\n    }\n  }, {\n    key: \"add\",\n    value: function add(entry) {\n      var _this2 = this;\n      var isArray = Array.isArray(entry);\n      var entries = isArray ? entry : [entry];\n      var ids = entries.map(function (entry) {\n        var id = entry.id = _this2.nextId;\n        _this2.data[id] = entry;\n        _this2.nextId += 1;\n        return id;\n      });\n      return isArray ? ids : ids[0];\n    }\n  }, {\n    key: \"update\",\n    value: function update(id, data) {\n      if (data === void 0) {\n        data = id;\n        id = data.id;\n      }\n      if (id == null) {\n        throw new Error('id is not specified');\n      }\n      data.id = id;\n      this.data[id] = data;\n      return id;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(id) {\n      var isArray = Array.isArray(id);\n      var ids = isArray ? id : [id];\n      var data = this.data;\n      ids.forEach(function (id) {\n        delete data[id];\n      });\n      return isArray ? ids : id;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var ids = Object.keys(this.data).map(Number);\n      this.data = {};\n      return ids;\n    }\n  }, {\n    key: \"find\",\n    value: function find(criteria) {\n      var data = this.data;\n      var keys = Object.keys(data);\n      if (criteria) {\n        var result = [];\n        keys.forEach(function (key) {\n          var entry = data[key];\n          for (var prop in criteria) {\n            if (criteria.hasOwnProperty(prop)) {\n              if (entry[prop] === criteria[prop]) {\n                result.push(entry);\n                break;\n              }\n            }\n          }\n        });\n        return result;\n      }\n      return keys.map(function (key) {\n        return data[key];\n      });\n    }\n  }]);\n  return Model;\n}();\nmodule.exports = Model;","map":{"version":3,"names":["_classCallCheck","require","_createClass","Model","data","save","_this","JSON","parse","e","Error","nextId","Math","max","apply","Object","keys","concat","key","value","get","id","add","entry","_this2","isArray","Array","entries","ids","map","update","remove","forEach","clear","Number","find","criteria","result","prop","hasOwnProperty","push","module","exports"],"sources":["D:/MASOOD UNI/wheelhub/node_modules/react-native-async-storage/src/model.js"],"sourcesContent":["'use strict';\n\nclass Model {\n\n  /**\n   * @constructor\n   * @param data {string}\n   * @param save {function}\n   */\n  constructor(data, save) {\n    try {\n      this.data = JSON.parse(data) || {};\n    }\n    catch (e) {\n      throw new Error('Invalid data');\n    }\n\n    this.save = () => save(this.data);\n    this.nextId = Math.max.apply(Math, Object.keys(this.data).concat([-1])) + 1;\n  }\n\n  /**\n   * @param id {number}\n   * @returns {Object|undefined} Found entry.\n   */\n  get(id) {\n    return this.data[id];\n  }\n\n  /**\n   * @param entry {Object|Array<Object>}\n   * @returns {number|Array<number>} Added entry id.\n   */\n  add(entry) {\n    var isArray = Array.isArray(entry);\n    var entries = isArray ? entry : [entry];\n    var ids = entries.map((entry) => {\n      var id = entry.id = this.nextId;\n      this.data[id] = entry;\n      this.nextId += 1;\n      return id;\n    });\n\n    return isArray ? ids : ids[0];\n  }\n\n  /**\n   * @param id {number|Object}\n   * @param [data] {Object}\n   * @returns {number} Updated entry id.\n   */\n  update(id, data) {\n    if (data === void 0) {\n      data = id;\n      id = data.id;\n    }\n\n    if (id == null) {\n      throw new Error('id is not specified');\n    }\n\n    data.id = id;\n    this.data[id] = data;\n\n    return id;\n  }\n\n  /**\n   * @param id {number|Array<number>}\n   * @returns {number|Array<number>} Updated entry id.\n   */\n  remove(id) {\n    var isArray = Array.isArray(id);\n    var ids = isArray ? id : [id];\n    var data = this.data;\n\n    ids.forEach(function(id) {\n      delete data[id];\n    });\n\n    return isArray ? ids : id;\n  }\n\n  /**\n   * @returns {Array<number>} List of ids.\n   */\n  clear() {\n    var ids = Object.keys(this.data).map(Number);\n    this.data = {};\n\n    return ids;\n  }\n\n  /**\n   * @param [criteria] {Object}\n   * @returns {Array<Object>}\n   */\n  find(criteria) {\n    var data = this.data;\n    var keys = Object.keys(data);\n\n    if (criteria) {\n      var result = [];\n\n      keys.forEach(function(key) {\n        var entry = data[key];\n        for (var prop in criteria) {\n          if (criteria.hasOwnProperty(prop)) {\n            if (entry[prop] === criteria[prop]) {\n              result.push(entry);\n              break;\n            }\n          }\n        }\n      });\n\n      return result;\n    }\n\n    return keys.map(key => data[key]);\n  }\n\n}\n\nmodule.exports = Model;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}