{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { firestore } from \"../config/firebase.config\";\nimport { getDoc, deleteDoc, getDocs, where, query, collection, doc, setDoc } from 'firebase/firestore';\nimport { useState } from 'react';\nvar carsFirestore = function carsFirestore() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var addUser = function () {\n    var _ref = _asyncToGenerator(function* (userData) {\n      var usersRef = collection(firestore, 'users');\n      yield setDoc(doc(usersRef, userData.email), userData);\n    });\n    return function addUser(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var deleteUser = function () {\n    var _ref2 = _asyncToGenerator(function* (email) {\n      var userRef = doc(firestore, 'users', email);\n      yield deleteDoc(userRef);\n    });\n    return function deleteUser(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var updateUser = function () {\n    var _ref3 = _asyncToGenerator(function* (email, updatedUserData) {\n      var userRef = doc(firestore, 'users', email);\n      yield setDoc(userRef, updatedUserData, {\n        merge: true\n      });\n    });\n    return function updateUser(_x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var userExists = function () {\n    var _ref4 = _asyncToGenerator(function* (email, password) {\n      setLoading(true);\n      var q = query(collection(firestore, 'users'), where('email', '==', email), where('password', '==', password));\n      var querySnapshot = yield getDocs(q);\n      setLoading(false);\n      return querySnapshot.docs.length > 0 ? true : false;\n    });\n    return function userExists(_x5, _x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var addCar = function () {\n    var _ref5 = _asyncToGenerator(function* (carData) {\n      var carsRef = collection(firestore, 'cars');\n      yield setDoc(doc(carsRef, carData.carName), carData);\n    });\n    return function addCar(_x7) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var deleteCar = function () {\n    var _ref6 = _asyncToGenerator(function* (carName) {\n      var carRef = doc(firestore, 'cars', carName);\n      yield deleteDoc(carRef);\n    });\n    return function deleteCar(_x8) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var updateCar = function () {\n    var _ref7 = _asyncToGenerator(function* (carName, updatedCarData) {\n      var carRef = doc(firestore, 'cars', carName);\n      yield setDoc(carRef, updatedCarData, {\n        merge: true\n      });\n    });\n    return function updateCar(_x9, _x10) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var carExists = function () {\n    var _ref8 = _asyncToGenerator(function* (carName) {\n      setLoading(true);\n      var q = query(collection(firestore, 'cars'), where('carName', '==', carName));\n      var querySnapshot = yield getDocs(q);\n      setLoading(false);\n      return querySnapshot.docs.length > 0 ? true : false;\n    });\n    return function carExists(_x11) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  return {\n    addCar: addCar,\n    deleteCar: deleteCar,\n    updateCar: updateCar,\n    carExists: carExists,\n    loading: loading\n  };\n};\nexport default carsFirestore;","map":{"version":3,"names":["firestore","getDoc","deleteDoc","getDocs","where","query","collection","doc","setDoc","useState","carsFirestore","_useState","_useState2","_slicedToArray","loading","setLoading","addUser","_ref","_asyncToGenerator","userData","usersRef","email","_x","apply","arguments","deleteUser","_ref2","userRef","_x2","updateUser","_ref3","updatedUserData","merge","_x3","_x4","userExists","_ref4","password","q","querySnapshot","docs","length","_x5","_x6","addCar","_ref5","carData","carsRef","carName","_x7","deleteCar","_ref6","carRef","_x8","updateCar","_ref7","updatedCarData","_x9","_x10","carExists","_ref8","_x11"],"sources":["D:/MASOOD UNI/wheelhub/hooks/carsfirestore.js"],"sourcesContent":["import { firestore } from '../config/firebase.config';\r\nimport {\r\n  getDoc,\r\n  deleteDoc,\r\n  getDocs,\r\n  where,\r\n  query,\r\n  collection,\r\n  doc,\r\n  setDoc,\r\n} from 'firebase/firestore';\r\nimport { useState } from 'react';\r\n\r\nconst carsFirestore = () => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // User operations\r\n  const addUser = async (userData) => {\r\n    const usersRef = collection(firestore, 'users');\r\n    await setDoc(doc(usersRef, userData.email), userData);\r\n  };\r\n\r\n  const deleteUser = async (email) => {\r\n    const userRef = doc(firestore, 'users', email);\r\n    await deleteDoc(userRef);\r\n  };\r\n\r\n  const updateUser = async (email, updatedUserData) => {\r\n    const userRef = doc(firestore, 'users', email);\r\n    await setDoc(userRef, updatedUserData, { merge: true });\r\n  };\r\n\r\n  const userExists = async (email, password) => {\r\n    setLoading(true);\r\n    const q = query(collection(firestore, 'users'), where('email', '==', email), where('password', '==', password));\r\n\r\n    const querySnapshot = await getDocs(q);\r\n    setLoading(false);\r\n    return querySnapshot.docs.length > 0 ? true : false;\r\n  };\r\n\r\n  // Car operations\r\n  const addCar = async (carData) => {\r\n    const carsRef = collection(firestore, 'cars');\r\n    await setDoc(doc(carsRef, carData.carName), carData);\r\n  };\r\n\r\n  const deleteCar = async (carName) => {\r\n    const carRef = doc(firestore, 'cars', carName);\r\n    await deleteDoc(carRef);\r\n  };\r\n\r\n  const updateCar = async (carName, updatedCarData) => {\r\n    const carRef = doc(firestore, 'cars', carName);\r\n    await setDoc(carRef, updatedCarData, { merge: true });\r\n  };\r\n\r\n  const carExists = async (carName) => {\r\n    setLoading(true);\r\n    const q = query(collection(firestore, 'cars'), where('carName', '==', carName));\r\n\r\n    const querySnapshot = await getDocs(q);\r\n    setLoading(false);\r\n    return querySnapshot.docs.length > 0 ? true : false;\r\n  };\r\n\r\n  return {\r\n    addCar,\r\n    deleteCar,\r\n    updateCar,\r\n    carExists,\r\n    loading,\r\n  };\r\n};\r\n\r\nexport default carsFirestore;\r\n"],"mappings":";;AAAA,SAASA,SAAS;AAClB,SACEC,MAAM,EACNC,SAAS,EACTC,OAAO,EACPC,KAAK,EACLC,KAAK,EACLC,UAAU,EACVC,GAAG,EACHC,MAAM,QACD,oBAAoB;AAC3B,SAASC,QAAQ,QAAQ,OAAO;AAEhC,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;EAC1B,IAAAC,SAAA,GAA8BF,QAAQ,CAAC,KAAK,CAAC;IAAAG,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAtCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAG1B,IAAMI,OAAO;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,QAAQ,EAAK;MAClC,IAAMC,QAAQ,GAAGd,UAAU,CAACN,SAAS,EAAE,OAAO,CAAC;MAC/C,MAAMQ,MAAM,CAACD,GAAG,CAACa,QAAQ,EAAED,QAAQ,CAACE,KAAK,CAAC,EAAEF,QAAQ,CAAC;IACvD,CAAC;IAAA,gBAHKH,OAAOA,CAAAM,EAAA;MAAA,OAAAL,IAAA,CAAAM,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGZ;EAED,IAAMC,UAAU;IAAA,IAAAC,KAAA,GAAAR,iBAAA,CAAG,WAAOG,KAAK,EAAK;MAClC,IAAMM,OAAO,GAAGpB,GAAG,CAACP,SAAS,EAAE,OAAO,EAAEqB,KAAK,CAAC;MAC9C,MAAMnB,SAAS,CAACyB,OAAO,CAAC;IAC1B,CAAC;IAAA,gBAHKF,UAAUA,CAAAG,GAAA;MAAA,OAAAF,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGf;EAED,IAAMK,UAAU;IAAA,IAAAC,KAAA,GAAAZ,iBAAA,CAAG,WAAOG,KAAK,EAAEU,eAAe,EAAK;MACnD,IAAMJ,OAAO,GAAGpB,GAAG,CAACP,SAAS,EAAE,OAAO,EAAEqB,KAAK,CAAC;MAC9C,MAAMb,MAAM,CAACmB,OAAO,EAAEI,eAAe,EAAE;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;IACzD,CAAC;IAAA,gBAHKH,UAAUA,CAAAI,GAAA,EAAAC,GAAA;MAAA,OAAAJ,KAAA,CAAAP,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGf;EAED,IAAMW,UAAU;IAAA,IAAAC,KAAA,GAAAlB,iBAAA,CAAG,WAAOG,KAAK,EAAEgB,QAAQ,EAAK;MAC5CtB,UAAU,CAAC,IAAI,CAAC;MAChB,IAAMuB,CAAC,GAAGjC,KAAK,CAACC,UAAU,CAACN,SAAS,EAAE,OAAO,CAAC,EAAEI,KAAK,CAAC,OAAO,EAAE,IAAI,EAAEiB,KAAK,CAAC,EAAEjB,KAAK,CAAC,UAAU,EAAE,IAAI,EAAEiC,QAAQ,CAAC,CAAC;MAE/G,IAAME,aAAa,SAASpC,OAAO,CAACmC,CAAC,CAAC;MACtCvB,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOwB,aAAa,CAACC,IAAI,CAACC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,KAAK;IACrD,CAAC;IAAA,gBAPKN,UAAUA,CAAAO,GAAA,EAAAC,GAAA;MAAA,OAAAP,KAAA,CAAAb,KAAA,OAAAC,SAAA;IAAA;EAAA,GAOf;EAGD,IAAMoB,MAAM;IAAA,IAAAC,KAAA,GAAA3B,iBAAA,CAAG,WAAO4B,OAAO,EAAK;MAChC,IAAMC,OAAO,GAAGzC,UAAU,CAACN,SAAS,EAAE,MAAM,CAAC;MAC7C,MAAMQ,MAAM,CAACD,GAAG,CAACwC,OAAO,EAAED,OAAO,CAACE,OAAO,CAAC,EAAEF,OAAO,CAAC;IACtD,CAAC;IAAA,gBAHKF,MAAMA,CAAAK,GAAA;MAAA,OAAAJ,KAAA,CAAAtB,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGX;EAED,IAAM0B,SAAS;IAAA,IAAAC,KAAA,GAAAjC,iBAAA,CAAG,WAAO8B,OAAO,EAAK;MACnC,IAAMI,MAAM,GAAG7C,GAAG,CAACP,SAAS,EAAE,MAAM,EAAEgD,OAAO,CAAC;MAC9C,MAAM9C,SAAS,CAACkD,MAAM,CAAC;IACzB,CAAC;IAAA,gBAHKF,SAASA,CAAAG,GAAA;MAAA,OAAAF,KAAA,CAAA5B,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGd;EAED,IAAM8B,SAAS;IAAA,IAAAC,KAAA,GAAArC,iBAAA,CAAG,WAAO8B,OAAO,EAAEQ,cAAc,EAAK;MACnD,IAAMJ,MAAM,GAAG7C,GAAG,CAACP,SAAS,EAAE,MAAM,EAAEgD,OAAO,CAAC;MAC9C,MAAMxC,MAAM,CAAC4C,MAAM,EAAEI,cAAc,EAAE;QAAExB,KAAK,EAAE;MAAK,CAAC,CAAC;IACvD,CAAC;IAAA,gBAHKsB,SAASA,CAAAG,GAAA,EAAAC,IAAA;MAAA,OAAAH,KAAA,CAAAhC,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGd;EAED,IAAMmC,SAAS;IAAA,IAAAC,KAAA,GAAA1C,iBAAA,CAAG,WAAO8B,OAAO,EAAK;MACnCjC,UAAU,CAAC,IAAI,CAAC;MAChB,IAAMuB,CAAC,GAAGjC,KAAK,CAACC,UAAU,CAACN,SAAS,EAAE,MAAM,CAAC,EAAEI,KAAK,CAAC,SAAS,EAAE,IAAI,EAAE4C,OAAO,CAAC,CAAC;MAE/E,IAAMT,aAAa,SAASpC,OAAO,CAACmC,CAAC,CAAC;MACtCvB,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOwB,aAAa,CAACC,IAAI,CAACC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,KAAK;IACrD,CAAC;IAAA,gBAPKkB,SAASA,CAAAE,IAAA;MAAA,OAAAD,KAAA,CAAArC,KAAA,OAAAC,SAAA;IAAA;EAAA,GAOd;EAED,OAAO;IACLoB,MAAM,EAANA,MAAM;IACNM,SAAS,EAATA,SAAS;IACTI,SAAS,EAATA,SAAS;IACTK,SAAS,EAATA,SAAS;IACT7C,OAAO,EAAPA;EACF,CAAC;AACH,CAAC;AAED,eAAeJ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}